"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var _global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),_core=createCommonjsModule(function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)}),_core_1=_core.version,_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},_ctx=function(n,i,e){if(_aFunction(n),void 0===i)return n;switch(e){case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}},_isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_anObject=function(e){if(!_isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),document=_global.document,is=_isObject(document)&&_isObject(document.createElement),_domCreate=function(e){return is?document.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),_toPrimitive=function(e,t){if(!_isObject(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!_isObject(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!_isObject(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!_isObject(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,r){if(_anObject(e),t=_toPrimitive(t,!0),_anObject(r),_ie8DomDefine)try{return dP(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_hide=_descriptors?function(e,t,r){return _objectDp.f(e,t,_propertyDesc(1,r))}:function(e,t,r){return e[t]=r,e},hasOwnProperty={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty.call(e,t)},PROTOTYPE="prototype",$export=function(e,t,r){var n,i,o,s=e&$export.F,c=e&$export.G,a=e&$export.S,u=e&$export.P,f=e&$export.B,h=e&$export.W,l=c?_core:_core[t]||(_core[t]={}),p=l[PROTOTYPE],d=c?_global:a?_global[t]:(_global[t]||{})[PROTOTYPE];for(n in c&&(r=t),r)(i=!s&&d&&void 0!==d[n])&&_has(l,n)||(o=i?d[n]:r[n],l[n]=c&&"function"!=typeof d[n]?r[n]:f&&i?_ctx(o,_global):h&&d[n]==o?function(n){var e=function(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)};return e[PROTOTYPE]=n[PROTOTYPE],e}(o):u&&"function"==typeof o?_ctx(Function.call,o):o,u&&((l.virtual||(l.virtual={}))[n]=o,e&$export.R&&p&&!p[n]&&_hide(p,n,o)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;var _export=$export,toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==_cof(e)?e.split(""):Object(e)},_defined=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},_toIobject=function(e){return _iobject(_defined(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(0<e?floor:ceil)(e)},min=Math.min,_toLength=function(e){return 0<e?min(_toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(e,t){return(e=_toInteger(e))<0?max(e+t,0):min$1(e,t)},_arrayIncludes=function(c){return function(e,t,r){var n,i=_toIobject(e),o=_toLength(i.length),s=_toAbsoluteIndex(r,o);if(c&&t!=t){for(;s<o;)if((n=i[s++])!=n)return!0}else for(;s<o;s++)if((c||s in i)&&i[s]===t)return c||s||0;return!c&&-1}},_library=!0,_shared=createCommonjsModule(function(e){var t="__core-js_shared__",r=_global[t]||(_global[t]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:_core.version,mode:_library?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},shared=_shared("keys"),_sharedKey=function(e){return shared[e]||(shared[e]=_uid(e))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var r,n=_toIobject(e),i=0,o=[];for(r in n)r!=IE_PROTO&&_has(n,r)&&o.push(r);for(;t.length>i;)_has(n,r=t[i++])&&(~arrayIndexOf(o,r)||o.push(r));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(e){return _objectKeysInternal(e,_enumBugKeys)},f$1=Object.getOwnPropertySymbols,_objectGops={f:f$1},f$2={}.propertyIsEnumerable,_objectPie={f:f$2},_toObject=function(e){return Object(_defined(e))},$assign=Object.assign,_objectAssign=!$assign||_fails(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=$assign({},e)[r]||Object.keys($assign({},t)).join("")!=n})?function(e,t){for(var r=_toObject(e),n=arguments.length,i=1,o=_objectGops.f,s=_objectPie.f;i<n;)for(var c,a=_iobject(arguments[i++]),u=o?_objectKeys(a).concat(o(a)):_objectKeys(a),f=u.length,h=0;h<f;)s.call(a,c=u[h++])&&(r[c]=a[c]);return r}:$assign;_export(_export.S+_export.F,"Object",{assign:_objectAssign});var assign=_core.Object.assign,assign$1=createCommonjsModule(function(e){e.exports={default:assign,__esModule:!0}}),_Object$assign=unwrapExports(assign$1);_export(_export.S+_export.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty=function(e,t,r){return $Object.defineProperty(e,t,r)},defineProperty$1=createCommonjsModule(function(e){e.exports={default:defineProperty,__esModule:!0}});unwrapExports(defineProperty$1);var createClass=createCommonjsModule(function(e,t){t.__esModule=!0;var r,i=(r=defineProperty$1)&&r.__esModule?r:{default:r};t.default=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}()}),_createClass=unwrapExports(createClass),classCallCheck=createCommonjsModule(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),core=createCommonjsModule(function(e,t){var r,h,n,i,o,s,l,c,a,u,f,p,d;e.exports=(r=r||(h=Math,n=Object.create||function(){function r(){}return function(e){var t;return r.prototype=e,t=new r,r.prototype=null,t}}(),o=(i={}).lib={},s=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=h.ceil(t/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t,r=[],n=function(t){var t=t,r=987654321,n=4294967295;return function(){var e=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return e/=4294967296,(e+=.5)*(.5<h.random()?1:-1)}},i=0;i<e;i+=4){var o=n(4294967296*(t||h.random()));t=987654071*o(),r.push(4294967296*o()|0)}return new l.init(r,e)}}),c=i.enc={},a=c.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,o=4*i,s=n/o,c=(s=e?h.ceil(s):h.max((0|s)-this._minBufferSize,0))*i,a=h.min(4*c,n);if(c){for(var u=0;u<c;u+=i)this._doProcessBlock(r,u);var f=r.splice(0,c);t.sigBytes-=a}return new l.init(f,a)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),o.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(r){return function(e,t){return new r.init(t).finalize(e)}},_createHmacHelper:function(r){return function(e,t){return new d.HMAC.init(r,t).finalize(e)}}}),d=i.algo={},i),r)}),encBase64=createCommonjsModule(function(e,t){var r,n,a;e.exports=(a=(n=r=core).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<r;c++)i.push(n.charAt(s>>>6*(3-c)&63));var a=n.charAt(64);if(a)for(;i.length%4;)i.push(a);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,r){for(var n=[],i=0,o=0;o<t;o++)if(o%4){var s=r[e.charCodeAt(o-1)]<<o%4*2,c=r[e.charCodeAt(o)]>>>6-o%4*2;n[i>>>2]|=(s|c)<<24-i%4*8,i++}return a.create(n,i)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)}),md5=createCommonjsModule(function(e,t){var s;e.exports=(s=core,function(f){var e=s,t=e.lib,r=t.WordArray,n=t.Hasher,i=e.algo,H=[];!function(){for(var e=0;e<64;e++)H[e]=4294967296*f.abs(f.sin(e+1))|0}();var o=i.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],a=e[t+2],u=e[t+3],f=e[t+4],h=e[t+5],l=e[t+6],p=e[t+7],d=e[t+8],_=e[t+9],v=e[t+10],y=e[t+11],g=e[t+12],x=e[t+13],m=e[t+14],b=e[t+15],w=o[0],B=o[1],S=o[2],k=o[3];B=C(B=C(B=C(B=C(B=M(B=M(B=M(B=M(B=O(B=O(B=O(B=O(B=j(B=j(B=j(B=j(B,S=j(S,k=j(k,w=j(w,B,S,k,s,7,H[0]),B,S,c,12,H[1]),w,B,a,17,H[2]),k,w,u,22,H[3]),S=j(S,k=j(k,w=j(w,B,S,k,f,7,H[4]),B,S,h,12,H[5]),w,B,l,17,H[6]),k,w,p,22,H[7]),S=j(S,k=j(k,w=j(w,B,S,k,d,7,H[8]),B,S,_,12,H[9]),w,B,v,17,H[10]),k,w,y,22,H[11]),S=j(S,k=j(k,w=j(w,B,S,k,g,7,H[12]),B,S,x,12,H[13]),w,B,m,17,H[14]),k,w,b,22,H[15]),S=O(S,k=O(k,w=O(w,B,S,k,c,5,H[16]),B,S,l,9,H[17]),w,B,y,14,H[18]),k,w,s,20,H[19]),S=O(S,k=O(k,w=O(w,B,S,k,h,5,H[20]),B,S,v,9,H[21]),w,B,b,14,H[22]),k,w,f,20,H[23]),S=O(S,k=O(k,w=O(w,B,S,k,_,5,H[24]),B,S,m,9,H[25]),w,B,u,14,H[26]),k,w,d,20,H[27]),S=O(S,k=O(k,w=O(w,B,S,k,x,5,H[28]),B,S,a,9,H[29]),w,B,p,14,H[30]),k,w,g,20,H[31]),S=M(S,k=M(k,w=M(w,B,S,k,h,4,H[32]),B,S,d,11,H[33]),w,B,y,16,H[34]),k,w,m,23,H[35]),S=M(S,k=M(k,w=M(w,B,S,k,c,4,H[36]),B,S,f,11,H[37]),w,B,p,16,H[38]),k,w,v,23,H[39]),S=M(S,k=M(k,w=M(w,B,S,k,x,4,H[40]),B,S,s,11,H[41]),w,B,u,16,H[42]),k,w,l,23,H[43]),S=M(S,k=M(k,w=M(w,B,S,k,_,4,H[44]),B,S,g,11,H[45]),w,B,b,16,H[46]),k,w,a,23,H[47]),S=C(S,k=C(k,w=C(w,B,S,k,s,6,H[48]),B,S,p,10,H[49]),w,B,m,15,H[50]),k,w,h,21,H[51]),S=C(S,k=C(k,w=C(w,B,S,k,g,6,H[52]),B,S,u,10,H[53]),w,B,v,15,H[54]),k,w,c,21,H[55]),S=C(S,k=C(k,w=C(w,B,S,k,d,6,H[56]),B,S,b,10,H[57]),w,B,l,15,H[58]),k,w,x,21,H[59]),S=C(S,k=C(k,w=C(w,B,S,k,f,6,H[60]),B,S,y,10,H[61]),w,B,a,15,H[62]),k,w,_,21,H[63]),o[0]=o[0]+w|0,o[1]=o[1]+B|0,o[2]=o[2]+S|0,o[3]=o[3]+k|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32;var i=f.floor(r/4294967296),o=r;t[15+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(t.length+1),this._process();for(var s=this._hash,c=s.words,a=0;a<4;a++){var u=c[a];c[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function j(e,t,r,n,i,o,s){var c=e+(t&r|~t&n)+i+s;return(c<<o|c>>>32-o)+t}function O(e,t,r,n,i,o,s){var c=e+(t&n|r&~n)+i+s;return(c<<o|c>>>32-o)+t}function M(e,t,r,n,i,o,s){var c=e+(t^r^n)+i+s;return(c<<o|c>>>32-o)+t}function C(e,t,r,n,i,o,s){var c=e+(r^(t|~n))+i+s;return(c<<o|c>>>32-o)+t}e.MD5=n._createHelper(o),e.HmacMD5=n._createHmacHelper(o)}(Math),s.MD5)}),sha1=createCommonjsModule(function(e,t){var r,n,i,o,s,c,h,a;e.exports=(i=(n=r=core).lib,o=i.WordArray,s=i.Hasher,c=n.algo,h=[],a=c.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],c=r[4],a=0;a<80;a++){if(a<16)h[a]=0|e[t+a];else{var u=h[a-3]^h[a-8]^h[a-14]^h[a-16];h[a]=u<<1|u>>>31}var f=(n<<5|n>>>27)+c+h[a];f+=a<20?1518500249+(i&o|~i&s):a<40?1859775393+(i^o^s):a<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,c=s,s=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(a),n.HmacSHA1=s._createHmacHelper(a),r.SHA1)}),hmac=createCommonjsModule(function(e,t){var r,n,i,o,u,s;e.exports=(n=(r=core).lib,i=n.Base,o=r.enc,u=o.Utf8,s=r.algo,void(s.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),s=i.words,c=o.words,a=0;a<r;a++)s[a]^=1549556828,c[a]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(r));return n}})))}),evpkdf=createCommonjsModule(function(e,t){var r,n,i,o,f,s,c,a;e.exports=(i=(n=r=core).lib,o=i.Base,f=i.WordArray,s=n.algo,c=s.MD5,a=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),i=f.create(),o=i.words,s=r.keySize,c=r.iterations;o.length<s;){a&&n.update(a);var a=n.update(e).finalize(t);n.reset();for(var u=1;u<c;u++)a=n.finalize(a),n.reset();i.concat(a)}return i.sigBytes=4*s,i}}),n.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},r.EvpKDF)}),cipherCore=createCommonjsModule(function(e,t){var r,n,i,o,a,s,c,u,f,h,l,p,d,_,v,y,g,x,m,b,w,B,S;e.exports=void((r=core).lib.Cipher||(i=(n=r).lib,o=i.Base,a=i.WordArray,s=i.BufferedBlockAlgorithm,(c=n.enc).Utf8,u=c.Base64,f=n.algo,h=f.EvpKDF,l=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function i(e){return"string"==typeof e?S:b}return function(n){return{encrypt:function(e,t,r){return i(t).encrypt(n,e,t,r)},decrypt:function(e,t,r){return i(t).decrypt(n,e,t,r)}}}}()}),i.StreamCipher=l.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),p=n.mode={},d=i.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),_=p.CBC=function(){var e=d.extend();function o(e,t,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else var i=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;o.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=e.slice(t,t+n);r.decryptBlock(e,t),o.call(this,e,t,n),this._prevBlock=i}}),e}(),v=n.pad={},y=v.Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var c=a.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:_,padding:y}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),g=i.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),x=n.format={},m=x.OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=a.create([1398893684,1701076831]).concat(r).concat(t);else var n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=a.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:n})}},b=i.SerializableCipher=o.extend({cfg:o.extend({format:m}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return g.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=e.createDecryptor(r,n).finalize(t.ciphertext);return i},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=n.kdf={},B=w.OpenSSL={execute:function(e,t,r,n){n||(n=a.random(8));var i=h.create({keySize:t+r}).compute(e,n),o=a.create(i.words.slice(t),4*r);return i.sigBytes=4*t,g.create({key:i,iv:o,salt:n})}},S=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:B}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);n.iv=i.iv;var o=b.decrypt.call(this,e,t,i.key,n);return o}})))}),aes=createCommonjsModule(function(e,t){var i;e.exports=(i=core,function(){var e=i,t=e.lib.BlockCipher,r=e.algo,u=[],f=[],h=[],l=[],p=[],d=[],_=[],v=[],y=[],g=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,u[r]=i;var o=e[f[i]=r],s=e[o],c=e[s],a=257*e[i]^16843008*i;h[r]=a<<24|a>>>8,l[r]=a<<16|a>>>16,p[r]=a<<8|a>>>24,d[r]=a,a=16843009*c^65537*s^257*o^16843008*r,_[i]=a<<24|a>>>8,v[i]=a<<16|a>>>16,y[i]=a<<8|a>>>24,g[i]=a,r?(r=o^e[e[e[c^o]]],n^=e[e[n]]):r=n=1}}();var x=[0,1,2,4,8,16,32,64,128,27,54],n=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<r)i[o]=t[o];else{var s=i[o-1];o%r?6<r&&o%r==4&&(s=u[s>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s]):(s=u[(s=s<<8|s>>>24)>>>24]<<24|u[s>>>16&255]<<16|u[s>>>8&255]<<8|u[255&s],s^=x[o/r|0]<<24),i[o]=i[o-r]^s}for(var c=this._invKeySchedule=[],a=0;a<n;a++)o=n-a,s=a%4?i[o]:i[o-4],c[a]=a<4||o<=4?s:_[u[s>>>24]]^v[u[s>>>16&255]]^y[u[s>>>8&255]]^g[u[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,h,l,p,d,u)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,_,v,y,g,f),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,c){for(var a=this._nRounds,u=e[t]^r[0],f=e[t+1]^r[1],h=e[t+2]^r[2],l=e[t+3]^r[3],p=4,d=1;d<a;d++){var _=n[u>>>24]^i[f>>>16&255]^o[h>>>8&255]^s[255&l]^r[p++],v=n[f>>>24]^i[h>>>16&255]^o[l>>>8&255]^s[255&u]^r[p++],y=n[h>>>24]^i[l>>>16&255]^o[u>>>8&255]^s[255&f]^r[p++],g=n[l>>>24]^i[u>>>16&255]^o[f>>>8&255]^s[255&h]^r[p++];u=_,f=v,h=y,l=g}_=(c[u>>>24]<<24|c[f>>>16&255]<<16|c[h>>>8&255]<<8|c[255&l])^r[p++],v=(c[f>>>24]<<24|c[h>>>16&255]<<16|c[l>>>8&255]<<8|c[255&u])^r[p++],y=(c[h>>>24]<<24|c[l>>>16&255]<<16|c[u>>>8&255]<<8|c[255&f])^r[p++],g=(c[l>>>24]<<24|c[u>>>16&255]<<16|c[f>>>8&255]<<8|c[255&h])^r[p++],e[t]=_,e[t+1]=v,e[t+2]=y,e[t+3]=g},keySize:8});e.AES=t._createHelper(n)}(),i.AES)}),encUtf8=createCommonjsModule(function(e,t){e.exports=core.enc.Utf8}),encHex=createCommonjsModule(function(e,t){e.exports=core.enc.Hex}),sha256=createCommonjsModule(function(e,t){var a;e.exports=(a=core,function(i){var e=a,t=e.lib,r=t.WordArray,n=t.Hasher,o=e.algo,s=[],x=[];!function(){function e(e){for(var t=i.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,n=0;n<64;)e(r)&&(n<8&&(s[n]=t(i.pow(r,.5))),x[n]=t(i.pow(r,1/3)),n++),r++}();var m=[],c=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],c=r[4],a=r[5],u=r[6],f=r[7],h=0;h<64;h++){if(h<16)m[h]=0|e[t+h];else{var l=m[h-15],p=(l<<25|l>>>7)^(l<<14|l>>>18)^l>>>3,d=m[h-2],_=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;m[h]=p+m[h-7]+_+m[h-16]}var v=n&i^n&o^i&o,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),g=f+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&a^~c&u)+x[h]+m[h];f=u,u=a,a=c,c=s+g|0,s=o,o=i,i=n,n=g+(y+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+a|0,r[6]=r[6]+u|0,r[7]=r[7]+f|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=i.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(c),e.HmacSHA256=n._createHmacHelper(c)}(Math),a.SHA256)}),hmacSha256=createCommonjsModule(function(e,t){e.exports=core.HmacSHA256}),version="1.0.0",encode=function(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new Buffer(e,"base64")},validate=function(e){return/^[A-Za-z0-9\-_]+$/.test(e)},urlsafeBase64={version:version,encode:encode,decode:decode,validate:validate},urlsafeBase64$1=urlsafeBase64,defaults={ttl:60,versionHex:"80",secret:null},crypto=require("crypto");function lpad(e,t,r){for(;e.length<r;)e=t+e;return e}function urlsafe(e){return e.replace(/\+/g,"-").replace(/\//g,"_")}var parseHex=function(e){return parseInt("0x"+e)};function hexBits(e){return e/8*2}function decode64toHex(e){var t=urlsafeBase64$1.decode(e.replace(/=+$/,""));return new Buffer(t).toString("hex")}function ArrayToHex(e){var t="";for(var r in e)t+=lpad(Number(r).toString(16),"0",2);return t}function randomHex(e){return crypto.randomBytes(16).toString("hex")}function setIV(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return Array.isArray(e)?ArrayToHex(e):randomHex(16)}function timeBytes(e){e?e/=1e3:e=Math.round(new Date/1e3);var t=lpad(e.toString(16),"0","16");return encHex.parse(t)}function setSecret(e){return defaults.secret=new Secret(e),defaults.secret}function encryptMessage(e,t,r){return aes.encrypt(e,t,{iv:r}).ciphertext}function decryptMessage(e,t,r){var n={ciphertext:e,key:t,iv:r};return aes.decrypt(n,t,{iv:r}).toString(encUtf8)}function createToken(e,t,r,n){for(var i=createHmac(e,t,r,n),o=encHex.parse(defaults.versionHex),s=[t,r,n,i],c=0;c<s.length;c++){var a=s[c];o=o.concat(a)}return urlsafe(o.toString(encBase64))}function createHmac(e,t,r,n){for(var i=encHex.parse(defaults.versionHex),o=[t,r,n],s=0;s<o.length;s++){var c=o[s];i=i.concat(c)}return hmacSha256(i,e)}var Secret=function e(t){_classCallCheck(this,e);var r=decode64toHex(t);if(r.length!==hexBits(256))throw new Error("Secret must be 32 url-safe base64-encoded bytes.");this.signingKeyHex=r.slice(0,hexBits(128)),this.signingKey=encHex.parse(this.signingKeyHex),this.encryptionKeyHex=r.slice(hexBits(128)),this.encryptionKey=encHex.parse(this.encryptionKeyHex)},Token=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),e=e||{},this.secret=e.secret||defaults.secret,this.ttl=e.ttl||defaults.ttl,0===e.ttl&&(this.ttl=0),this.message=e.message,this.cipherText=e.cipherText,this.token=e.token,this.version=e.version||parseHex(defaults.versionHex),this.optsIV=e.iv,this.maxClockSkew=60,this.time=e.time?timeBytes(Date.parse(e.time)):timeBytes()}return _createClass(t,[{key:"toString",value:function(){return this.encoded?this.token:this.message}},{key:"encode",value:function(e){if(!this.secret)throw new Error("Secret not set");return this.encoded=!0,this.ivHex=setIV(this.optsIV),this.iv=encHex.parse(this.ivHex),this.message=e||this.message,this.cipherText=encryptMessage(this.message,this.secret.encryptionKey,this.iv),this.token=createToken(this.secret.signingKey,this.time,this.iv,this.cipherText),this.token}},{key:"decode",value:function(e){if(!this.secret)throw new Error("Secret not set");this.encoded=!1,this.token=e||this.token;var t=decode64toHex(this.token),r=hexBits(8),n=r+hexBits(64),i=n+hexBits(128),o=t.length-hexBits(256),s=parseHex(t.slice(r,n));if(this.version=parseHex(t.slice(0,r)),128!=this.version)throw new Error("Invalid version");this.time=new Date(1e3*s);var c=new Date,a=(c-this.time)/1e3;if(0<this.ttl&&a>this.ttl)throw new Error("Invalid Token: TTL");if(c/1e3+this.maxClockSkew<s)throw new Error("far-future timestamp");this.ivHex=t.slice(n,i),this.iv=encHex.parse(this.ivHex),this.cipherTextHex=t.slice(i,o),this.cipherText=encHex.parse(this.cipherTextHex),this.hmacHex=t.slice(o);for(var u=createHmac(this.secret.signingKey,timeBytes(this.time),this.iv,this.cipherText).toString(encHex),f=0,h=0;h<64;h++)f+=u.charCodeAt(h)^this.hmacHex.charCodeAt(h);if(0!=f)throw new Error("Invalid Token: HMAC");return this.message=decryptMessage(this.cipherText,this.secret.encryptionKey,this.iv),this.message}}]),t}();function fernet(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.opts=e||_Object$assign({},defaults),this.Secret=Secret,this.ivHex=setIV(this.opts.iv),this.iv=encHex.parse(this.ivHex),this.ttl=e.ttl||60,0===e.ttl&&(this.ttl=0),e.secret&&(this.secret=new Secret(e.secret));var r=this;this.Token=function(){return new Token(r)},this.setSecret=function(e){return t.secret=new Secret(e),t.secret},this.encryptMessage=encryptMessage,this.decryptMessage=decryptMessage,this.createToken=createToken,this.createHmac=createHmac}exports.defaults=defaults,exports.Secret=Secret,exports.Token=Token,exports.fernet=fernet,exports.setSecret=setSecret,exports.ArrayToHex=ArrayToHex,exports.timeBytes=timeBytes,exports.decode64toHex=decode64toHex,exports.createHmac=createHmac,exports.hexBits=hexBits,exports.urlsafe=urlsafe,exports.Hex=encHex;
